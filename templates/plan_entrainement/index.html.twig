{% extends 'base.html.twig' %}

{% block title %}FitLife360-Plan d'entrainement{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1 class="text-center mb-5">Mon Plan d'entrainement</h1>
    {% for planEntrainement in planEntrainements %}
    <div class="row mb-5">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <h2 class="fw-bold">{{ planEntrainement.title }}</h2>
            <div class="plan-details">
                <p><strong>Description:</strong> {{ planEntrainement.description }}</p>
                <p><strong>Durée:</strong> {{ planEntrainement.duree }}</p>
                <p><strong>Objectif:</strong> {{ planEntrainement.objectif }}</p>
                <p><strong>Niveau:</strong> {{ planEntrainement.niveau }}</p>
                {% set detailsByDay = {} %}
                {% for detailEntrainement in planEntrainement.detailEntrainements %}
                    {% set day = detailEntrainement.day %}
                    {% set detailsByDay = detailsByDay|merge({ (day): detailsByDay[day]|default([])|merge([detailEntrainement]) }) %}
                {% endfor %}
                {% for day, details in detailsByDay %}
                    <h3>{{ day }}</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Échauffement</th>
                                <th>Exercice</th>
                                <th>Séries</th>
                                <th>Répétitions</th>
                                {# <th>Description</th> #}
                            </tr>
                        </thead>
                        <tbody>
                            {% for detailEntrainement in details %}
                            <tr>
                                <td>{{ detailEntrainement.echauffement }}</td>
                                <td>{{ detailEntrainement.exercices }}</td>
                                <td>{{ detailEntrainement.series }}</td>
                                <td>{{ detailEntrainement.repetitions }}</td>
                                {# <td>{{ detailEntrainement.description }}</td> #}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
