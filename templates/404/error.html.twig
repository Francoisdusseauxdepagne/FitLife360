{% extends 'base.html.twig' %}

{% block title %}Page non trouv√©e{% endblock %}

{% block body %}
<div class="container-fluid containerError bg-light">
    <div class="container playfair">
        <div class="row justify-content-center">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="text-center">
                    <h1 class="display-1 fw-bold colorRed mb-2 shadowError">ERROR 404</h1>
                    <p class="lead colorBlue"><strong class="fs-4">üèãÔ∏è‚Äç‚ôÇÔ∏è</strong> Oups... la page que vous recherchez n'existe pas ! <strong class="fs-4">üèãÔ∏è‚Äç‚ôÇÔ∏è</strong></p>
                </div>
                <div class="text-center mt-4 error404 poppins mt-5">
                    <div id="quiz">
                        <h2 id="question" class="mb-3 fs-4">Question 1 : Quel muscle est commun√©ment appel√© "l'abdominal" ?</h2>
                        <div id="answers" class="mb-3">
                            <button class="answer btn btn-outline-secondary" data-answer="Grand droit de l'abdomen">Grand droit de l'abdomen</button>
                            <button class="answer btn btn-outline-secondary" data-answer="Biceps brachial">Biceps brachial</button>
                            <button class="answer btn btn-outline-secondary" data-answer="Quadriceps">Quadriceps</button>
                            <button class="answer btn btn-outline-secondary" data-answer="Deltoides">Deltoides</button>
                        </div>
                        <p id="progress">Question 1 sur 10</p>
                        <p id="score">Score : 0</p>
                    </div>
                    <div class="text-center mt-3">
                        <a href="{{ path('app_home') }}" class="btn btn-md btn-danger text-white text-decoration-none">Retour √† l'accueil</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const questions = [
        { question: "Quel muscle est commun√©ment appel√© 'l'abdominal' ?", answers: ["Grand droit de l'abdomen", "Biceps brachial", "Quadriceps", "Deltoides"], correctAnswer: "Grand droit de l'abdomen" },
        { question: "Quel est le principal muscle travaill√© lors des flexions (ou 'pompes') ?", answers: ["Pectoraux", "Ischio-jambiers", "Trap√®zes", "Fessiers"], correctAnswer: "Pectoraux" },
        { question: "Combien de calories environ br√ªle-t-on en moyenne en faisant du jogging pendant 30 minutes ?", answers: ["150", "300", "450", "600"], correctAnswer: "300" },
        { question: "Quel est l'exercice principal pour travailler les muscles du dos ?", answers: ["Soulev√© de terre", "Curl biceps", "Extensions lombaires", "D√©velopp√© couch√©"], correctAnswer: "Soulev√© de terre" },
        { question: "Quel est le nom de l'exercice qui cible principalement les quadriceps ?", answers: ["Fentes", "Curl ischio-jambiers", "√âl√©vation lat√©rale", "Curl quadriceps"], correctAnswer: "Fentes" },
        { question: "Quel sport fait partie des Jeux Olympiques d'hiver mais pas des Jeux Olympiques d'√©t√© ?", answers: ["Biathlon", "Athl√©tisme", "Natation", "Gymnastique"], correctAnswer: "Biathlon" },
        { question: "Quel est l'objectif principal de l'entra√Ænement en circuit ?", answers: ["Force", "Endurance", "Flexibilit√©", "Vitesse"], correctAnswer: "Endurance" },
        { question: "Combien de temps faut-il en moyenne pour compl√©ter un marathon ?", answers: ["2 heures", "4 heures", "6 heures", "8 heures"], correctAnswer: "4 heures" },
        { question: "Quel est le nom de l'exercice pour renforcer les abdominaux en position allong√©e sur le dos ?", answers: ["Crunch", "Burpees", "Planche", "Mountain climbers"], correctAnswer: "Crunch" },
        { question: "Quelle est la fonction principale des prot√©ines dans l'alimentation d'un sportif ?", answers: ["√ânergie", "Construction musculaire", "Hydratation", "Protection des os"], correctAnswer: "Construction musculaire" }
        { question: "Quel est le principal muscle de la colonne vertebrale ?", answers: ["Pectoraux", "Ischio-jambiers", "Trap√®zes", "Fessiers"], correctAnswer: "Trap√®zes" },
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    const questionElement = document.querySelector('#question');
    const answersContainer = document.querySelector('#answers');
    const progressElement = document.querySelector('#progress');
    const scoreElement = document.querySelector('#score');

    // Affichage de la premi√®re question
    displayQuestion();

    // Fonction pour afficher la question actuelle
    function displayQuestion() {
        const currentQuestion = questions[currentQuestionIndex];
        questionElement.textContent = `Question ${currentQuestionIndex + 1} : ${currentQuestion.question}`;
        progressElement.textContent = `Question ${currentQuestionIndex + 1} sur ${questions.length}`;
        scoreElement.textContent = `Score : ${score}`;
        
        // Supprimer les r√©ponses pr√©c√©dentes
        answersContainer.innerHTML = '';
        
        // Ajouter les nouvelles r√©ponses
        currentQuestion.answers.forEach(answer => {
            const button = document.createElement('button');
            button.className = 'answer btn btn-outline-secondary';
            button.setAttribute('data-answer', answer);
            button.textContent = answer;
            button.addEventListener('click', handleAnswerClick);
            answersContainer.appendChild(button);
        });
    }

    // Gestionnaire de clic sur une r√©ponse
    function handleAnswerClick() {
        const selectedAnswer = this.getAttribute('data-answer');
        const currentQuestion = questions[currentQuestionIndex];

        if (selectedAnswer === currentQuestion.correctAnswer) {
            score++; // Augmenter le score si la r√©ponse est correcte
        }
        
        // Passer √† la question suivante
        currentQuestionIndex++;
        
        if (currentQuestionIndex < questions.length) {
            // Afficher la prochaine question si elle existe
            displayQuestion();
        } else {
            // Toutes les questions ont √©t√© r√©pondues
            endQuiz();
        }
    }

    // Fonction pour terminer le quiz
    function endQuiz() {
        questionElement.textContent = "F√©licitations ! Vous avez termin√© le quiz.";
        progressElement.textContent = `Quiz termin√© !`;
        scoreElement.textContent = `Score final : ${score} / ${questions.length}`; ;
        // Effacer les r√©ponses apr√®s avoir termin√©
        answersContainer.innerHTML = '';
    }
</script>
{% endblock %}
