{% extends 'base.html.twig' %}

{% block title %}FitLife360 - Resiliation
{% endblock %}

{% block body %}
	<div class="container p-5">
		<div class="row justify-content-center">
			<div class="col-lg-8 col-md-12 col-sm-12">
				<div class="card shadow-lg border-0">
					<div class="card-body p-5">
						<h2 class="text-center mb-4">Demande de résiliation de votre abonnement</h2>
						{{ form_start(resiliationForm, {'attr': {'class': 'row g-3'}}) }}
						<div class="mb-3">
							{{ form_label(resiliationForm.objet, 'Objet', {'class': 'form-label'}) }}
							{{ form_widget(resiliationForm.objet, {'attr': {'class': 'form-control', 'placeholder': 'Selectionne ton motif'}}) }}
						</div>
						<div class="mb-3">
							{{ form_label(resiliationForm.content, 'Message', {'class': 'form-label'}) }}
							{{ form_widget(resiliationForm.content, {'attr': {'class': 'form-control', 'rows': '9', 'placeholder': 'Entrez votre message'}}) }}
						</div>
						<div class="text-center">
							<button type="submit" class="btn btn-primary btn-lg">Envoyer</button>
						</div>
						{{ form_end(resiliationForm) }}
					</div>
				</div>
			</div>
		</div>
	</div>

<script>
	document.addEventListener('DOMContentLoaded', (event) => {
		const objetField = document.getElementById('resiliation_objet');
		const contentField = document.getElementById('resiliation_content');
				console.log(contentField);
		const messages = {
		'Je souhaite changer de formule': 'Bonjour,\n\nJe vous écris pour demander la résiliation de mon abonnement actuel car je souhaite changer de formule. J\'ai trouvé que l\'offre actuelle ne correspond plus à mes besoins et je souhaiterais explorer d\'autres options.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Je n\'ai plus besoin de vos services': 'Bonjour,\n\nJe vous informe de ma décision de résilier mon abonnement car je n\'ai plus besoin de vos services. Ma situation a évolué et je n\'utilise plus le service proposé.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Je rencontre des difficultés financières': 'Bonjour,\n\nJe vous écris pour demander la résiliation de mon abonnement en raison de difficultés financières. Ma situation actuelle ne me permet plus de continuer à payer pour ce service.\n\nMerci de bien vouloir comprendre ma situation et de prendre en compte ma demande.\n\nCordialement,',
		'Je rencontre des problèmes techniques récurrents': 'Bonjour,\n\nJe souhaite résilier mon abonnement en raison de problèmes techniques récurrents. Malheureusement, malgré plusieurs tentatives de résolution, les problèmes persistent et affectent mon utilisation du service.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Je suis insatisfait du service client': 'Bonjour,\n\nJe vous informe de ma décision de résilier mon abonnement car je suis insatisfait du service client. J\'ai rencontré plusieurs problèmes qui n\'ont pas été résolus de manière satisfaisante.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Je n\'ai plus besoin de ce service actuellement': 'Bonjour,\n\nJe vous informe de ma décision de résilier mon abonnement car je n\'ai plus besoin de ce service actuellement. Mes besoins ont changé et je n\'utilise plus le service proposé.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'J\'ai trouvé une meilleure alternative': 'Bonjour,\n\nJe souhaite résilier mon abonnement car j\'ai trouvé une meilleure alternative qui correspond mieux à mes besoins actuels. Je vous remercie pour les services rendus jusqu\'à présent.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Je rencontre des problèmes de facturation': 'Bonjour,\n\nJe souhaite résilier mon abonnement en raison de problèmes de facturation récurrents. Ces problèmes n\'ont pas été résolus de manière satisfaisante et affectent mon expérience utilisateur.\n\nMerci de bien vouloir prendre en compte ma demande.\n\nCordialement,',
		'Ma situation personnelle a changé': 'Bonjour,\n\nJe vous écris pour demander la résiliation de mon abonnement car ma situation personnelle a changé. En conséquence, je n\'ai plus besoin de ce service.\n\nMerci de bien vouloir comprendre ma situation et de prendre en compte ma demande.\n\nCordialement,'
		};

		objetField.addEventListener('change', (event) => {
			const selectedObjet = event.target.value;
			contentField.value = messages[selectedObjet] || '';
		});
	});
</script>
{% endblock %}